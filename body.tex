\section{Introduction}

The notion of a balanced tensor product was first given in
\cite{etingof/fusion-cat-and-homotopy}, and mainly developed in
\cite{douglas/balanced-product} and \cite{douglas/dualizable-tensor-categories}.
It has different interpretations in various fields:
\begin{itemize}
  \item In the theory of topological phases, this construction corresponds to
        fusing two domains (labeled by module categories) along the domain
        wall (labeled by tensor categories) \cite{kong/topological-order}.
  \item In the theory of extended topological quantum field theory, it is the
        $1$-categorical structure of a common target $3$-category $TC$
        \cite{douglas/dualizable-tensor-categories}.
  \item In the theory of vertex operator algebras (VOA), this construction helps
        classify the full bulk CFTs (as explained in
        \cite{gannon/exotic-quantum-subgroup}), and constructing new VOAs
        \cite{gannon/sln-II}.
  \item In the theory of tensor categories itself, it closely relates to the
        categorical center construction. In particular, the Drinfeld center
        $Z(C)$ of $C$ is equivalent to $C \boxtimes_{C \boxtimes C^{op}} C$
        \cite{kirillov/string-net-tv}
        \cite{douglas/dualizable-tensor-categories}.
\end{itemize}

Before this work, several algebraic constructions for balanced tensor products
were known, including categories of modules \cite{douglas/balanced-product},
internal Hom spaces \cite{davydov/picard}, and generalized categorical centers
\cite{etingof/fusion-cat-and-homotopy} \cite{kirillov/fact-homo-4d-tqft}
\cite{hoek/master}. These approaches well-captured the algebraic aspects of
balanced tensor products.

In this paper, we provide a topological construction based on skein theory,
which strikes a better mix between algebra and topology. It has a few advantages:

\begin{enumerate}
  \item Its topological nature allows us to use skein diagrams to calculate the
        values of the fully extended $3$D field theories associated to a
        fusion category by the cobordism hypothesis \cite{lurie/tqft}
        \cite{douglas/dualizable-tensor-categories}
        \cite{guu/tv-as-3-functor}.
  \item It generalizes seamlessly to balanced tensor products involving more than
        two module categories (see the picture in definition
        \ref{definition/skein-category}).
      \end{enumerate}

\noindent Some of the (potential) applications of this work are as follows.

\begin{enumerate}
  \item \textbf{(Skein Nature of eTFTs)} In an upcoming work
        \cite{guu/tv-as-3-functor}, we build on the main result presented here
        to prove the long-anticipated theorem that the Turaev-Viro state sum
        model \cite{viro/turaev-viro-model} naturally and necessarily emerges
        from the 3-functor in the classification of fully extended field
        theories \cite{lurie/tqft} \cite{douglas/dualizable-tensor-categories}.
  \item \textbf{(No-Go: Detection of Exotic Smooth Structures)} We anticipate
        that this approach can be extended to a $4$-dimensional analogue of
        Turaev-Viro theory, the Crane-Yetter model. Additionally, a similar
        strategy should apply to a broader generalization based on fusion
        2-categories, as explored in \cite{douglas/fusion-2-cat-4d-tqft}.
        Proving this would lend support to the conjecture proposed there,
        which suggests that despite the construction's generality and power,
        it remains an extended topological field theory and therefore cannot
        detect exotic structures \cite{reutter/no-go-exotic}.
  \item \textbf{(Factorization Homology)} The main result of this paper
        provides a simple reproof of the result in
        \cite{kirillov/fact-homo-4d-tqft} that shows equivalence between the
        Crane-Yetter model and factorization homology
        \cite{ayala/factorization-homology} in $4$D (the excision property).
  \item \textbf{(Defected TFTs)} We expect work being useful in the study of
        defect field theories, such as in \cite{meusburger/defect-tv}.
  \item \textbf{(Computations in Tensor / Higher Categories)} Given that the
        Drinfeld center is a specific instance of the balanced tensor product,
        we expect this paper will contribute to recent advancements,
        particularly the explicit computation of centers as explored in
        \cite{maurer/computing-center}, and further develop the computational
        aspects of balanced tensor products.
\end{enumerate}

% TODO Add this section back, or remove it.
\include{tmp.1}

\subsection{Preliminaries}\label{subsection/preliminaries}

Throughout the whole paper, unless mentioned otherwise, we fix a field $k$ and
denote by $\Vect_k$ the category of $k$-vector spaces. We assume all
categories, functors and natural transformations are enriched over $\Vect_k$.
We always write $\otimes$ instead of $\otimes_k$.

\begin{definition} \label{definition/bilinearized-product} ($M \otimes N$)

\noindent
Given categories $M,N$ we denote by $M\otimes N$ the category whose objects
are pairs $(m,n)$ with $m\in M$ and $n\in N$ and where $Hom_{M\otimes
N}((m,n),(m',n'))=Hom_M(m,m')\otimes Hom(n,n')$. Heuristically, $M \otimes N$
is $M \times N$ with bi-linearlized hom spaces.
\end{definition}

\begin{remark} (Products: $M \otimes N$, $M \otimes_C N$, $M \boxtimes N$, $M \boxtimes_C N$)

  \noindent Throughout the paper, we have four kinds of products of two categories.
  \begin{enumerate}
    \item Bilinearized product $M \otimes N$ (\ref{definition/bilinearized-product}).
    \item Pre-skein category $M\otimes_C N$ (\ref{pre-skein}).
    \item Deligne tensor product $M \boxtimes N$ (\ref{remark/deligne-tensor-product})
    \item Balanced tensor product $M \boxtimes_C N$ (\ref{definition/balanced-tensor-product})
  \end{enumerate}
\end{remark}

\begin{definition} (Linear functor, $Fun(M,N)$, $Lin(M,N)$, $Bilin(M,N)$)

  \noindent Given categories $M, N, L$, denote by $Fun(M,N)$ the category of
  ($\Vect_k$-enriched) functors from $M$ to $N$. A functor $F \in Fun(M,N)$ is
  linear if it is right exact (i.e. if it preserves all finite colimits). We
  denote the category of linear functors $M \to N$ by $Lin(M,N)$. A functor
  $F \in Fun(M \otimes N, L)$ is called bilinear if it is linear in each
  variable. We denote the category of bilinear functors $M\otimes N \to L$ by
  $Bilin(M\otimes N, L)$.
\end{definition}

\begin{definition} \label{definition/k-linear-category} ($k$-linear category) \cite{douglas/balanced-product}

\noindent A $k$-linear category is an abelian category with a compatible $\Vect_{k}$-enrichment.
\end{definition}

\begin{definition} \cite{egno/tensor-cats}
  An object in a $k$-linear category is simple if it has no nontrivial
  subobjects. A $k$-linear category is semisimple if every object splits as a
  direct sum of simple objects. A $k$-linear category $M$ is finite if

  \begin{itemize}
    \item $Hom_M(X,Y)$ is finite dimensional, for all objects $X,Y\in M$.
    \item Every object of $M$ has finite length.
    \item $M$ has enough projectives.
    \item $M$ has finitely many isomorphism classes of simple objects.
  \end{itemize}
  A $k$-linear monoidal category is a $k$-linear category $C$ with a monoidal
  structure where the functor $C\otimes C\to C$ is bilinear. A tensor category
  is a rigid $k$-linear monoidal category.
\end{definition}

\noindent In a finite semisimple $k$-linear category, every object splits as a
finite direct sum of simple objects. When $M,N$ are semisimple, every
$\Vect_{k}$-enriched functor $M\to L$ is automatically exact (thus linear) and
every $\Vect_{k}$-enriched functor $M\otimes N\to L$ is automatically
bilinear.

\begin{assumption}
When $C$ is a $k$-linear monoidal category (e.g. a tensor category), any
$C$-module category $M$ is assumed to be $k$-linear by definition and the
structure map $C\otimes M\to M$ is assumed to be bilinear.
\end{assumption}

\begin{notation} ($m \lhd c$)

Given a right (left, resp.) $C$-module category $M_C$ ($_{C}N$, resp.), we
denote by $m\lhd c$ ($n \rhd n$, resp.) the object in $M$ ($N$, resp.) that
results from acting with $c\in C$ on $m\in M$.

\end{notation}

% TODO Add this section back, or remove it.
\include{tmp.2}

\section{Balanced Tensor Product (Algebra)}\label{section/balanced-tensor-product}

\noindent In this section we recall the definition of the balanced tensor product
from \cite{douglas/balanced-product}.

\begin{definition} (Balanced Functor)

  \noindent Let $C$ be a monoidal category, $M_{C}$, $_{C}N$ $C$-module
  categories, and $L$ a category. \quad Then a $C$-balanced functor $M \otimes
  N\to L$ is a pair

  \[(M \otimes N \xrightarrow{F} L, \alpha)\]
  where $F$ is a ($\Vect_k$-enriched) functor and $\alpha$ is a natural isomorphism
  \[
    \begin{tikzcd}
      M \otimes C \otimes N \arrow[r] \arrow[dr] &
      M \otimes N \arrow[d, Rightarrow, "\alpha"] \arrow[r, "F"] &
      L \\
      & M \otimes N \arrow[ur, "F"'] \\
    \end{tikzcd}
  \]
  where the object $(m,c,n)$ in $M \otimes C \otimes N$ is sent by the first
  upper arrow to $(m \lhd c, n)$, and by the first lower arrow to $(m, c \rhd n)$.
\end{definition}

\begin{definition} (Balanced Natural Transformation)

  \noindent Let $C$ be a monoidal category, let $M_{C}$, $_{C}N$ be $C$-module
  categories and let $L$ be a category. Let $(F,\alpha), (G,\beta)$ be
  $C$-balanced functors from $M \otimes N$ to $L$. A $C$-balanced natural
  transformation from $(F,\alpha)$ to $(G,\beta)$ is a natural transformation
  $ F \xrightarrow{\eta} G$ such that the following diagram commutes.

  \[
    \begin{tikzcd}
      F(m \lhd c, n) \arrow[r, "\alpha_{m,c,n}"] \arrow[d, "\eta_{m \lhd c, n}"'] &
      F(m, c \rhd n) \arrow[d, "\eta_{m, c \rhd n}"] \\
      G(m \lhd c, n) \arrow[r, "\beta_{m,c,n}"'] &
      G(m, c \rhd n)
    \end{tikzcd}
  \]
\end{definition}

\begin{definition} ($Fun^{C-bal}(M \otimes N, L)$ and $Bilin^{C-bal}(M \otimes N, L)$)

  \noindent Let $C$ be a monoidal category, let $M_{C}$, $_{C}N$ be $C$-module
  categories and let $L$ be a category. \quad Then the category of
  $C$-balanced functors $Fun^{C{\text -}bal}(M \otimes N, L)$ is defined to be
  the category whose objects are $C$-balanced functors $M \otimes N \to L$ and
  whose morphisms are $C$-balanced natural transformations.

  We denote by $Bilin^{C{\text -}bal}(M \otimes N, L)$ the full subcategory of
  $Fun^{C{\text -}bal}(M \otimes N, L)$ whose objects are bilinear (thus right
  exact) $C$-balanced functors.
\end{definition}

\begin{definition}\label{definition/balanced-tensor-product} (Balanced Tensor Product)

  \noindent Let $C$ be a $k$-linear monoidal category, and let $M_C$, $_{C}N$
  be $k$-linear module categories over $C$. \quad Then the balanced tensor
  product $M \boxtimes_{C} N$ is a $k$-linear category together with a
  $C$-balanced bilinear functor $M\otimes N\to M\boxtimes_{C} N$ such
  that \[Lin(M \boxtimes_{C} N, L) \to Bilin^{C-bal}(M \otimes N, L)\] is an
  equivalence, for any $k$-linear category $L$.
\end{definition}

In \cite{douglas/balanced-product} the authors construct $M\boxtimes_C N$ for
any finite tensor category $C$ and any finite $C$-module categories $M, N$,
thus establishing existence in this setting. They do this by using the fact
that the module categories $M,N$ can be realized as categories of modules over
algebra objects $A_M$ and $A_N$ in $C$ and then showing that the category of
$A_M-A_N$-bimodule objects in $C$ is $k$-linear and satisfies the required
universal property. In the present paper, we will give an alternative
construction of $M\boxtimes_C N$ when $M$, $N$, and $M \boxtimes_{C} N$ are
semisimple.

\begin{remark} \label{remark/deligne-tensor-product}
  Notice that the Deligne tensor product $M \boxtimes N$ is just
  $M \boxtimes_{\Vect_k} N$.
\end{remark}

\section{Skein Construction (Topology)}\label{section/skein-construction}

\subsection{Pre-skein Category $M\otimes_C N$}

\noindent In this section, we present the pre-skein category $M \otimes_{C} N$
and develop some of its properties.

\begin{definition}\label{pre-skein} (Pre-Skein Category)
  For $C$ a monoidal category and $M_C$, $_{C}N$ module categories, we define
  the pre-skein category $M\otimes_C N$ as follows. Its objects are pairs
  $(m,n)$ with $m\in M$ and $n\in N$, which we denote by $m\boxtimes n$. The
  hom space $Hom_{M\otimes_C N}(m\boxtimes n, m'\boxtimes n')$, as a
  $k$-vector space, is the quotient of the $k$-vector
  space $$V((m,n),(m',n')):=\bigoplus_{c,\overline{c} \in Obj(C)} Hom_{M}(m,
  m' \lhd c) \otimes Hom_{C}(c,\overline{c}) \otimes Hom_{N}
  (\overline{c} \rhd n, n')$$ by the $k$-linear subspace spanned by
  \begin{align}
    \phi \otimes (\overline{\pi} \circ \pi) \otimes \psi &- (\phi_{\pi} \otimes \overline{\pi} \otimes \psi) \label{relation/a} \\
    \phi \otimes (\overline{\pi} \circ \pi) \otimes \psi &- (\phi \otimes \pi \otimes {}_{\overline{\pi}}\psi) \label{relation/b},
  \end{align}
  where
  \begin{align}
    \phi_{\pi}  &:= \left( m \xrightarrow{\phi} m' \lhd c \xrightarrow{1_{m'} \lhd \pi} m' \lhd c' \right) \\
    {}_{\overline{\pi}}\psi &:= \left( \overline{c} \rhd n \xrightarrow{\overline{\pi} \rhd 1_{n}} \overline{\overline{c}} \rhd n \xrightarrow{\psi} n' \right)
  \end{align}
  
    \begin{center}
    \includesvg[width=18cm]{drawing-1}
  \end{center}
  
  \noindent The composition $(\phi' \otimes \pi' \otimes \psi' ) \circ
  (\phi \otimes \pi \otimes \psi)$ is defined to be
  $(\phi'' \otimes \pi'' \otimes \psi'')$ where

  \begin{itemize}
    \item
    $\pi'' \in Hom_{C}(c' \otimes c, \overline{c}' \otimes \overline{c})$ is equal to
    \[
      c' \otimes c \xrightarrow{\pi' \otimes \pi} \overline{c'} \otimes \overline{c},
    \]
    \item
    \noindent $\phi'' \in Hom_{M}(m, m'' \lhd (c' \otimes c))$ is equal to
    \[
      m \xrightarrow{\phi} m' \lhd c \xrightarrow{\phi' \lhd 1_{c}} (m'' \lhd c') \lhd c \xrightarrow[\sim]{\alpha} m'' \lhd (c' \otimes c),
    \]
    \item
    \noindent $\psi'' \in Hom_{N}((\overline{c}' \otimes \overline{c}) \rhd n, n'')$ is equal to
    \[
      (\overline{c}' \otimes \overline{c}) \rhd n \xrightarrow[\sim]{\alpha} \overline{c}' \rhd (\overline{c} \rhd n) \xrightarrow{1_{\overline{c}'} \rhd \psi} \overline{c}' \rhd n' \xrightarrow{\psi'} n''.
    \]
  \end{itemize}
  
    \begin{center}
    \includesvg[width=18cm]{drawing-2}
  \end{center}

  It is straightforward to check that this composition law respects the
  relations defining $Hom_{M\otimes_C N}$.
\end{definition}

\begin{remark}
 
We abuse notation by writing $(\phi\otimes\pi\otimes\psi)$ to denote the
corresponding equivalence class in $Hom_{M\otimes_C N}((m,n),(m',n'))$. We
refer to a morphism $(\phi\otimes\pi\otimes\psi)$ as a skein.\end{remark}


\begin{remark}\label{absorb}
  
  Using the defining relations, we see
  that
  \[
    (\phi\otimes\pi\otimes\psi) =
    (\phi_{\pi}\otimes\id_{\bar{c}}\otimes\psi) =
    (\phi\otimes\id_c\otimes{_{\pi}\psi}).
  \]
\end{remark}

\begin{lemma}\label{decompose}
  Any morphism in $M\otimes_C N$ can be written as a sum of composites of
  morphisms of the form $\phi\otimes\id_{1}\otimes\psi:(m,n)\to(m',n')$ and
  $\id_{m\lhd c}\otimes\id_c\otimes\id_{c\rhd n}:(m\lhd c,n)\to(m,c\rhd n).$
\end{lemma}

\begin{proof}
  First, any morphism is a sum of morphisms of the form
  $\phi\otimes\pi\otimes\psi$. By Remark \ref{absorb}, we can take
  $\pi=\id_c$. Now
  $(\phi\otimes\id_c\otimes\psi)
  =
  (\id_{m'}\otimes\id_1\otimes\psi)
  \circ
  (\id_{m'\lhd c}\otimes\id_c\otimes\id_{c\rhd n})
  \circ
  (\phi\otimes\id_1\otimes\id_n)$.
\end{proof}


\begin{definition}\label{definition/preskeinification}.
  We define a functor $M\otimes N\to M\otimes_C N$ by the identity on objects,
  and $\phi\otimes\psi\mapsto\phi\otimes\id_1\otimes\psi$ on morphisms. We
  define also morphisms $\beta_{m,c,n}:(m\lhd c,n)\to (m, c \rhd n)$ by
  $\beta_{m,c,n}=\id_{m\lhd c}\otimes\id_c\otimes\id_{c\lhd n}.$

  \begin{center}\includesvg{graphics/beta}\end{center}

\end{definition}

\begin{lemma}\label{beta_natural}
  The collection of morphisms $\beta_{m,c,n}$ defines a natural transformation
  of functors $\lhd \otimes 1$ and $1 \otimes \rhd$ from $M\otimes C \otimes
  N$ to $ M\otimes_C N$.
\end{lemma}

\begin{proof}
  Given $\phi:m\to m'$, $\psi: n\to n'$ and $\pi:c\to \bar{c}$ we must check
  that the following diagram commutes.
  \[
    \begin{tikzcd}
      {(m\lhd c, n)} & {(m,c\rhd n)} \\
      {(m'\lhd \bar{c}, n')} & {(m',\bar{c}\rhd n')}
      \arrow["{\beta_{m,c,n}}", from=1-1, to=1-2]
      \arrow["{(\phi\lhd\pi)\otimes\id_1\otimes\psi}"', from=1-1, to=2-1]
      \arrow["{\phi\otimes\id_1\otimes(\pi\rhd\psi)}", from=1-2, to=2-2]
      \arrow["{\beta_{m',\bar{c},n'}}"', from=2-1, to=2-2]
    \end{tikzcd}
  \]
  Using the definition of composition and the relations in the definition of
  $Hom_{M\otimes_C N}$ one can check that both composites equal
  $(\phi\lhd\id_c)\otimes\pi\otimes(\id_{\bar{c}}\rhd\psi)$.
\end{proof}

\begin{lemma}\label{beta_invertible}
  If every object in $C$ has a right dual, then the natural transformation
  $\beta$ described above is an isomorphism.
\end{lemma}

\begin{proof}
  Given $(m,c,n)$ we provide an explicit inverse for $\beta_{m,c,n}$. Let
  $(c^*,\eta,\epsilon)$ denote a right dual for $c$. We define
  $\beta^{-1}_{m,c,n}=(\id_m\lhd\eta)\otimes\id_{c^*}\otimes
  (\epsilon\rhd\id_n)$. The following is a proof that
  $\beta_{m,c,n}\circ\beta_{m,c,n}^{-1}=\id_{m,c\rhd n}$.
  \begin{center}\includesvg{graphics/calculation1}\end{center}

  \noindent The proof that $\beta_{m,c,n}^{-1}\circ\beta_{m,c,n}=\id_{m\lhd c,n}$ is
  similar, using the same snake equation.
\end{proof}


\begin{proposition}\label{is_balanced}

\noindent Suppose $C$ is a monoidal category with right duals and $M_C$, $_{C}N$ are
$C$-module categories. Then
\ref{definition/preskeinification} provides a $C$-balanced
functor $M\otimes N\to M\otimes_C N$.
\end{proposition}

\begin{proof}
  This is the content of lemmas \ref{beta_natural} and \ref{beta_invertible}.
\end{proof}

\noindent Therefore, it is natural to assume $C$ to have right duals.
We will do this frequently from now on. Recall that by definition any tensor
category has right and left duals. [TODO: (Jin) Make sure that Manuel explain
why we only need right-dual well in the appendix.]

\begin{proposition}\label{univ_bal}
  Suppose $C$ is a monoidal category with right duals and $M_C$, $_{C}N$ are
  $C$-module categories. Let $L$ be a category. Then composition with
  $M\otimes N \to M\otimes_C N$ induces an equivalence of categories
  $Fun(M\otimes_C N,L)\to Fun^{C-bal}(M\otimes N,L)$.
\end{proposition}

\begin{proof}
  It follows from lemma \ref{surjective}, \ref{faithful} and \ref{full}.
\end{proof}

\begin{remark}
  Hence the pre-skein category $M \otimes_{C} N$ almost satisfies (and is characterized by) the
  universal property that defines the balanced tensor product $M \boxtimes_{C}
  N$, except that it is not abelian (thus not $k$-linear). We will fix this by
  defining the skein category $sk(M,C,N)$ as a certain completion of the
  pre-skein category.
\end{remark}

\begin{lemma}\label{surjective}
  $Fun(M\otimes_C N,L)\to Fun^{C-bal}(M\otimes N,L)$ is surjective on
  objects.
\end{lemma}

\begin{proof}
  Given a $C$-balanced functor $F:M\otimes N \to L$ with balancing $\beta$, we
  will construct $\tilde{F}:M\otimes_C N \to L$ such that its composite with
  $M\otimes N\to M\otimes_C N$ is $F$. Define $\tilde{F} = F$ on objects.
  For morphisms, let $\phi\in Hom_M(m,m'\lhd c)$, $\pi\in Hom_C(c,\bar{c})$
  and $\psi\in Hom_N(\bar{c}\rhd n,n')$. We define
  $\tilde{F}([\phi\otimes\pi\otimes\psi])$ to be the composite

  \[
    \begin{tikzcd}
      {(m,n)} & {(m'\lhd c,n)} & {(m'\lhd \bar{c},n)} & {(m',\bar{c}\rhd n)} & {(m',n')}
      \arrow["{F(\phi,n)}", from=1-1, to=1-2]
      \arrow["{F(m'\lhd\pi,n)}", from=1-2, to=1-3]
      \arrow["{\beta_{m',\bar{c},n}}", from=1-3, to=1-4]
      \arrow["{F(m',\psi)}", from=1-4, to=1-5]
    \end{tikzcd}.
  \]

  \noindent The naturality of $\beta$ with respect to morphisms in $C$ implies
  that this is equal to the composite

  \[
    \begin{tikzcd}
      {(m,n)} & {(m'\lhd c,n)} & {(m', c\rhd n)} & {(m',\bar{c}\rhd n)} & {(m',n')}
      \arrow["{F(\phi,n)}", from=1-1, to=1-2]
      \arrow["{\beta_{m',c,n}}", from=1-2, to=1-3]
      \arrow["{F(m',\pi\rhd n)}", from=1-3, to=1-4]
      \arrow["{F(m',\psi)}", from=1-4, to=1-5]
    \end{tikzcd}.
  \]
  From these two expressions it is clear that this respects the relations in
  the definition of $Hom_{M\otimes_C N}$. The proof that this respects
  composition is a straightforward calculation, using the naturality of
  $\beta$ with respect to morphisms in $M$ and $N$.
  \end{proof}

  \begin{remark}
    Using Lemma \ref{decompose}, the functor $\tilde{F}:M\otimes_C N\to L$
    whose composite with $M\otimes N\to M\otimes_C N$ is the $C$-balanced
    functor $F:M\otimes N\to L$ with balancing $\beta$ is also determined by
    $\tilde{F}(m,n)=F(m,n)$,
    $\tilde{F}(\phi\otimes\id_1\otimes\psi)=F(\phi,\psi)$ and
    $\tilde{F}(\id_{m\lhd c}\otimes\id_c\otimes\id_{c\rhd n})=\beta_{m,c,n}.$
  \end{remark}

\begin{lemma}\label{faithful}
  $Fun(M\otimes_C N,L)\to Fun^{C-bal}(M\otimes N,L)$ is faithful.
\end{lemma}

\begin{proof}
  This is immediate from the fact that $M\otimes N \to M\otimes_C N$ is
  surjective on objects.
\end{proof}

\begin{lemma}\label{full}
  $Fun(M\otimes_C N,L)\to Fun^{C-bal}(M\otimes N,L)$ is full.
\end{lemma}

\begin{proof}
  Given $\eta:F\to G$ in $Fun^{C-bal}(M\otimes N,L)$ we must define
  $\tilde{\eta}:\tilde{F}\to\tilde{G}$ in $Fun(M\otimes_C N,L)$. Denote by
  $\alpha$ and $\beta$ the balancing of $F$ and $G$, respectively. Since
  $M\otimes N\to M\otimes_C N$ is surjective on objects, we are forced to
  define $\tilde{\eta}_{m,n}=:\eta_{m,n}$ for every object $(m,n)\in
  M\otimes_C N$. But we need to check that this defines a natural
  transformation. By lemma \ref{decompose}, it is enough to check that it is
  natural with respect to maps of the form $(\phi\otimes\id_1\otimes\psi)$ and
  $(\id_{m\lhd c}\otimes\id_c\otimes\id_{c\rhd n})$. Naturality with respect
  to $(\phi\otimes\id_1\otimes\psi)$ follows directly from the naturality of
  $\eta$. Now $\eta$ is balanced, which means that

  \[
    \begin{tikzcd}
      {F(m\lhd c, n)} & {G(m\lhd c, n)} \\
      {F(m,c\rhd n)} & {G(m,c\rhd n)}
      \arrow["{\eta_{m\lhd c, n}}", from=1-1, to=1-2]
      \arrow["{\alpha_{m,c,n}}"', from=1-1, to=2-1]
      \arrow["{\beta_{m,c,n}}", from=1-2, to=2-2]
      \arrow["{\eta_{m,c\rhd n}}"', from=2-1, to=2-2]
    \end{tikzcd}\]
  commutes. Therefore
  \[
    \begin{tikzcd}
      {\tilde{F}(m\lhd c, n)} & {\tilde{G}(m\lhd c, n)} \\
      {\tilde{F}(m,c\rhd n)} & {\tilde{G}(m,c\rhd n)}
      \arrow["{\tilde{\eta}_{m\lhd c, n}}", from=1-1, to=1-2]
      \arrow["{\tilde{F}(\id_{m\lhd c}\otimes\id_c\otimes\id_{c\rhd n})}"', from=1-1, to=2-1]
      \arrow["{\tilde{G}(\id_{m\lhd c}\otimes\id_c\otimes\id_{c\rhd n})}", from=1-2, to=2-2]
      \arrow["{\tilde{\eta}_{m,c\rhd n}}"', from=2-1, to=2-2]
    \end{tikzcd}
  \]

  \noindent commutes, i.e. $\eta$ is natural with respect to $(\id_{m\lhd
  c}\otimes\id_c\otimes\id_{c\rhd n})$.
\end{proof}

\subsection{Skein Category sk(M,C,N)}

\begin{definition} (Skein Category, $sk(M,C,N)$)

  \noindent Let $C$ be a monoidal category with right duals, and let $M_C$,
  $_{C}N$ be module categories over $C$. Define the skein category $sk(M,C,N)$
  to be the Cauchy completion $\Cau(M \otimes_{C} N)$
  (cf \ref{definition/cauchy-completion/abstract}, \ref{definition/cauchy-completion/explicit})
  of the pre-skein category $M \otimes_{C} N$.
\end{definition}

\begin{remark}
  There is a $C$-balanced functor $M\otimes N \to sk(M,C,N)$ obtained by the
  composite $M\otimes N\to M\otimes_C N\to sk(M,C,N)$, where the first arrow
  is the $C$-balanced functor in \ref{is_balanced} (thus the composite is
  automatically $C$-balanced), and the second is the canonical functor to
  (\ref{definition/cauchy-completion/abstract}).
\end{remark}

\begin{remark}
  An object in $sk(M,C,N)$ is an idempotent matrix
  $A:(m_1,n_1)\oplus\cdots\oplus (m_k,n_k)\to (m_1,n_1)\oplus\cdots\oplus
  (m_k,n_k)$ whose $(i,j)$-entry is a morphism $(m_j,n_j)\to (m_i,n_i)$ in
  $M\otimes_C N$.
\end{remark}

\begin{proposition}\label{univ_sk}
  Let $L$ be Cauchy complete and suppose $C$ has right duals. Then composition
  with the $C$-balanced functor $M\otimes N\to sk(M,C,N)$ induces an
  equivalence of categories $$Fun(sk(M,C,N),L)\to Fun^{C-bal}(M\otimes N,L).$$
\end{proposition}

\begin{proof}
  \noindent [TODO: (Manuel) Work on refactoring the big definition of Cauchy
  completion, and isolate the properties into referable entries. Add
  (implicit) comments pointing out the gap. Use the referable entries to
  rewrite this proof. ]
  % Old sketch: From Proposition \ref{univ_bal} and the universal property of
  % the Cauchy completion, we immediately obtain the following universal
  % property characterizing $sk(M,C,N)$.
\end{proof}

\begin{remark}
  Comparing \ref{univ_sk} with \ref{definition/balanced-tensor-product}, the
  defining universal property of balanced tensor product, we know we are
  closed to proving that the skein category $sk(M,C,N)$ is indeed equivalent
  to the balanced tensor product. What is missing so far are

  \begin{enumerate}
    \item $sk(M,C,N)$ is $k$-linear (in particular, abelian) (cf \ref{semisimple}).
    \item The equivalence in \ref{univ_sk} has to be restricted to their
          right-exact counterparts:
          $Lin(M \boxtimes_{C} N, L) \to Bilin^{C-bal}(M \otimes N, L)$ (cf \ref{sk_bal}).
  \end{enumerate}
\end{remark}

\subsection{Proof of the Main Theorem}

We will show that $M\otimes N\to sk(M,C,N)$ presents $sk(M,C,N)$ as the
balanced tensor product $M\boxtimes_C N$ whenever $M$, $N$ and $M\boxtimes_C
N$ are finite semisimple.

In \cite{douglas/balanced-product}, the existence of the balanced tensor
product is established, for the cases where $M,N,C$ are finite. The authors
also remark that in this case the universal property described above still
holds when $L$ is just a finitely cocomplete category. We record this in the
following lemma.

\begin{lemma}\label{univ_box}

  \noindent
  Let $C$ be a finite tensor category, $M_C$, $_{C}N$ finite $k$-linear $C$-module
  categories, and $L$ a finitely cocomplete category.
  Suppose the balanced tensor product $M \boxtimes_C N$ exists.
  Then the restriction
  functor is an equivalence:
  \[Lin(M \boxtimes_{C} N, L) \xrightarrow{\sim} Bilin^{C-bal}(M \otimes N, L).\]
\end{lemma}

\begin{proof}
  If $L$ is assumed to be $k$-linear, this follows from the universal property
  of the balanced tensor product. Here, $L$ is only assumed to be finite
  cocomplete, and a proof is outlined in \cite[Remark 3.4]{douglas/balanced-product}.
  % NOTE This argument is given by Manuel. Jin does not understand it well.
\end{proof}

\begin{remark}
  Some statements in this subsection are based
  on \cite{douglas/balanced-product}, which assumes $C$ to be a finite tensor
  category. In particular, that assumes $C$ has both right and left duals.
  However, we believe some of them could be weakened to $C$ having only right
  duals.
\end{remark}

\begin{notation}
  Given a category $M$, we denote by $Fin(M)$ its finite cocompletion
  (\ref{definition/finite-cocompletion}).
\end{notation}

\noindent Recall from \ref{is_balanced} that we have a $C$-balanced functor $M
\otimes N \to M\otimes_C N$ provided that $C$ has right duals. Composing it
with $M\otimes_C N \to Fin(M\otimes_C N)$ provides a $C$-balanced functor
$M\otimes N\to Fin(M\otimes_C N)$ (because the first one is $C$-balanced).

\begin{lemma}\label{univ_finbal}

  \noindent Let $C$ be a monoidal category having right duals, let $M_C$ and $_{C}N$ be
  module categories over $C$, and let $L$ be a finitely cocomplete category.
  Then the restriction map $$Lin(Fin(M\otimes_C N),L)\to Fun^{C-bal}(M\otimes
  N,L)$$ is an equivalence.
\end{lemma}

\begin{proof}
  That $Lin(Fin(M\otimes_C N),L) \simeq Fun(M \otimes_{C} N, L)$ follows from
  a claim in \ref{definition/finite-cocompletion}, and that $Fun(M \otimes_{C}
  N, L) \simeq Fun^{C-bal}(M \otimes N, L)$ follows from \ref{univ_bal}.
\end{proof}

\begin{proposition}\label{fin_eq_bal}

  Suppose $C$ is a finite tensor category and $M_C$ and $_{C}N$ are $k$-linear
  finite semisimple module categories. Then we have a canonical equivalence of
  categories $Fin(M\otimes_C N) \simeq M\boxtimes_C N$.
    
  % Then the map $Fin(M\otimes_C N)\to M\boxtimes_C N$ corresponding to the
  % $C$-balanced functor $M\otimes N\to M\boxtimes_C N$ via the equivalence of
  % Lemma \ref{univ_finbal} is an equivalence.
\end{proposition}

\begin{proof} % TODO (Jin) Checks this proof.

  \noindent Since $M,N$ are semisimple, any functor $M\otimes N\to L$ is bilinear. So by
  \ref{univ_finbal} the map \[Lin(Fin(M \otimes_{C} N), L) \to
  Bilin^{C-bal}(M \otimes N, L)\] defined by composing with $M\otimes N\to
  Fin(M\otimes_C N)$ is an equivalence for any finitely cocomplete $L$.

  \noindent By \ref{univ_box}, composing with $M\otimes N\to M\boxtimes_C N$ gives
  an equivalence \[Lin(M \boxtimes_{C} N, L) \xrightarrow{\sim}
  Bilin^{C-bal}(M \otimes N, L)\] for any finitely cocomplete category $L$.

  \noindent So $Fin(M\otimes_C N)$ and $M \boxtimes_{C} N$ are both finitely cocomplete
  categories, characterized by the same universal property, so they are
  canonically equivalent.
\end{proof}

Now we prove that $sk(M,C,N)$ is a finite semisimple $k$-linear category,
whenever $M$, $N$ and $M\boxtimes_C N$ are finite semisimple $k$-linear
categories.

% TODO (Jin) This is really the main theorem, but it's less advertisable, so
% it's demoted to a lemma. In the introduction, we need to make this point
% clear.
\begin{lemma}\label{semisimple}
  Let $C$ be a tensor category, and let $M_C$,$_{C}N$ be $k$-linear finite
  semisimple $C$-module categories. Suppose $M\boxtimes_C N$ is also
  $k$-linear finite semisimple.
  Then $sk(M,C,N)$ is $k$-linear finite
  semisimple.
\end{lemma}

\begin{proof}
  We have a fully faithful inclusion $sk(M,C,N)=Cau(M\otimes_C
  N)\hookrightarrow Fin(M\otimes_C N)$. By Proposition \ref{fin_eq_bal}, we
  have $Fin(M\otimes_C N)\simeq M\boxtimes_C N$, because $M$, $N$ are finite
  semisimple. Therefore $sk(M,C,N)$ is finite semisimple, by
  Proposition \ref{cau_semi}.
\end{proof}

\begin{lemma}\label{sk_bal}
  Let $C$ be a tensor category, and let $M_C$,$_{C}N$ be $k$-linear finite
  semisimple $C$-module categories. Suppose $M\boxtimes_C N$ is also
  $k$-linear finite semisimple. Then the $C$-balanced functor $M\otimes N\to
  sk(M,C,N)$ exhibits $sk(M,C,N)$ as the balanced tensor product $M\boxtimes_C
  N$.
\end{lemma}

\begin{proof}
  Recall that proposition \ref{univ_sk} asserts that the restriction map

  \[
   Fun(sk(M,C,N),L) \xrightarrow{\sim} Fun^{C-bal}(M \otimes N,L)
  \]

  is an equivalence for every Cauchy complete category $L$. Comparing this
  with the defining universal property of balanced tensor product
  (cf \ref{definition/balanced-tensor-product}), we need to show that
  $sk(M,C,N)$ is $k$-linear (in particular, abelian), and to restrict the
  equivalence to their right-exact counterparts:

  \[
    Lin(sk(M,C,N),L) \xrightarrow{\sim} Bilin^{C-bal}(M \otimes N, L).
  \]

  By \ref{semisimple} we know $sk(M,C,N)$ is $k$-linear, so that resolves the
  first part, and we also know that it is semisimple, so

  \[
    Fun(sk(M,C,N), L) = Lin(sk(M,C,N), L).
  \]

  Finally,

  \[
    Fun^{C-bal}(M \otimes N, L) = Bilin^{C-bal}(M \otimes N, L)
  \]
  because $M$ and $N$ are semisimple.
\end{proof}

\begin{remark}\label{semisimple_douglas/dualizable-tensor-categories}

  \noindent Collecting results
  from \cite{douglas/dualizable-tensor-categories}, we can conclude that
  $M\boxtimes_C N$ is finite semisimple (so lemma \ref{sk_bal} applies) in any
  of the following situations:

  \begin{itemize}

    \item $C$ is a finite semisimple tensor category and $_{\Vect_k}M_C$,
    $_{C}N_{\Vect_k}$ are separable bimodule categories (\cite[Proposition
    2.5.3, Theorem 2.5.5]{douglas/dualizable-tensor-categories});

    \item $k$ is perfect, $C$ is a separable tensor category and $M,N$ are
    finite semisimple (\cite[Proposition
    2.5.10]{douglas/dualizable-tensor-categories});

    \item $k$ has characteristic $0$ and $C,M,N$ are finite semisimple
    (\cite[Corollary 2.6.9]{douglas/dualizable-tensor-categories});

  \end{itemize}
\end{remark}

Since we are mostly interested in the characteristic zero case, we record the
following direct consequence of lemma \ref{sk_bal}.

\begin{theorem}
   Suppose $k$ has characteristic $0$, $C$ is a finite semisimple tensor
   category, and $M_C$,$_{C}N$ are $k$-linear finite semisimple $C$-module
   categories. Then the $C$-balanced functor $M\otimes N\to sk(M,C,N)$
   exhibits $sk(M,C,N)$ as the balanced tensor product $M\boxtimes_C
   N$.
\end{theorem}

[TODO: Manuel adds the definition of $sk(M^{1},..,M^{n})$, and more
importantly, explain why such a definition is more ``intuitive'' than the
algebraic ones (i.e. those defined by modules over algebras).]

\begin{corollary}
  Suppose that $n \in \mathbb{N}$, $k$ has characteristic $0$, $C_{0}, \ldots,
  C_{n}$ are finite semisimple tensor categories, and $_{C_{0}}M^{1}_{C_{1}},
  _{C_{1}}M^{2}_{C_{2}}, \ldots, _{C_{n{\text -}1}}M^{n}_{C_{n}}$ are
  $k$-linear finite semisimple module categories. Then we have an equivalence
  of $C_{0}{\text -}C_{n}$ module categories

  \[
    sk(M^{1}, C_{1}, M^{2}, C_{2}, \ldots, C_{n{\text -} 1}, M^{n})
    \simeq
    (M^{1} \boxtimes_{C_{1}} M^{2} \boxtimes_{C_{2}} \ldots \boxtimes_{C_{n{\text -}1}} M^{n}).
  \]
\end{corollary}

\appendix
\section{Appendix}
   
\subsection{Completions}

\noindent In this subsection, we collect results about completions of categories.

\begin{definition} \label{definition/cauchy-completion/abstract} (Cauchy Completion (Abstract))
  A category $M$ is Cauchy complete if it has all finite direct sums and all
  idempotents split [TODO: Manuel explains this]. Given any $M$, we denote by $\Cau(M)$ the Cauchy
  completion of $M$, the smallest subcategory of $Fun(M^{op},\Vect_k)$
  containing all the representables and closed under finite direct sums and
  retracts. Its objects can be identified as those $X\in Fun(M^{op},\Vect_k)$
  such that $\underline{Hom}(X,-):Fun(M^{op},\Vect_k)\to\Vect_k$ preserves all
  small colimits. Alternatively, they are the retracts of finite direct sums
  of representables.

  $Cau(M)$ is Cauchy complete [TODO: Manuel explains this], and comes equipped with a functor
  $M\to \Cau(M)$. It is characterized by a universal property. Namely, given
  any Cauchy complete category $L$, the restriction
  map $$Fun(\Cau(M),L)\to Fun(M,L)$$ is an equivalence. A reference is
  \cite[Sections 5.5 and 5.7]{kelly/basic-concepts-enriched}.
\end{definition}

\noindent We recall the usual explicit construction of the Cauchy completion $Cau(M)$ of a ($\Vect_k$-enriched) category $M$ in [TODO: Manuel adds reference].

\begin{definition}

Given a category $M$, we define $Mat(M)$ to be the category whose objects are tuples of objects in $M$. We denote such an object by $m_1\oplus\cdots\oplus m_k$. We then define $$Hom_{Mat(M)}(m_1\oplus\cdots\oplus m_k,n_1\oplus\cdots\oplus n_{\ell})$$ to be the $k$-vector space of $(\ell\times k)$ matrices whose $(i,j)$-th entry is a morphism $m_j\to n_i$ in $M$. Composition is defined by matrix product. \end{definition}

\begin{definition}
  Given a category $M$, we define its Karoubi completion $Kar(M)$ to be the category whose objects are idempotent endomorphisms $m \xrightarrow{p} m$ in $M$, and the hom space $Hom_{Kar(C)}(m \xrightarrow{p} m, n \xrightarrow{q} n)$ is the $k$-linear subspace of $Hom_{M}(m,n)$ consisting of $f$ such that the following diagram commutes
  \[\begin{tikzcd}
	m & n \\
	m & n
	\arrow["f", from=1-1, to=1-2]
	\arrow["p", from=1-1, to=2-1]
	\arrow["f", from=1-1, to=2-2]
	\arrow["q", from=1-2, to=2-2]
	\arrow["f"', from=2-1, to=2-2]
\end{tikzcd}\] commutes.\end{definition}

\begin{definition} \label{definition/cauchy-completion/explicit} (Cauchy Completion, Explicit)

  The explicit construction of the Cauchy completion is given by $Cau(M)=Kar(Mat(M))$. \end{definition}

\noindent So an object in $Cau(M)$ is an idempotent matrix $$m_1\oplus\cdots\oplus m_k \xrightarrow{A} m_1\oplus\cdots\oplus m_k.$$

\noindent We introduce a few lemmas about Cauchy complete categories.

\begin{lemma}\label{direct_sum}
  Suppose we have a fully faithful functor $F:M\hookrightarrow N$ where $M$ is
  Cauchy complete. If $F(x)=a'\oplus b'$ then we have $x=a\oplus b$ and
  isomorphisms $F(a)\simeq a'$, $F(b)\simeq b'$ such that the following
  diagrams commute.
  \[
    \begin{tikzcd}
      {F(a)} & {F(x)} & {F(b)} \\
      {a'} & {F(x)} & {b'}
      \arrow[from=1-1, to=1-2]
      \arrow["\simeq"', from=1-1, to=2-1]
      \arrow["{=}", from=1-2, to=2-2]
      \arrow[from=1-3, to=1-2]
      \arrow["\simeq", from=1-3, to=2-3]
      \arrow[from=2-1, to=2-2]
      \arrow[from=2-3, to=2-2]
    \end{tikzcd} \begin{tikzcd}
      {F(a)} & {F(x)} & {F(b)} \\
      {a'} & {F(x)} & {b'}
      \arrow["\simeq"', from=1-1, to=2-1]
      \arrow[from=1-2, to=1-1]
      \arrow[from=1-2, to=1-3]
      \arrow["{=}", from=1-2, to=2-2]
      \arrow["\simeq", from=1-3, to=2-3]
      \arrow[from=2-2, to=2-1]
      \arrow[from=2-2, to=2-3]
    \end{tikzcd}
  \]
\end{lemma}

\begin{proof}
  \noindent
  Denote by $i_{a'}:a'\to F(x)$, $r_{a'}:F(x)\to a'$ and $p_{a'}:F(x)\to F(x)$
  the corresponding inclusion, retraction and idempotent, so that
  $r_{a'}i_{a'}=\id_{a'}$ and $i_{a'} r_{a'}=p_{a'}$, and similarly for $b'$.
  We have additional equations $r_{a'}i_{b'}=0=r_{b'}i_{a'}$ and
  $p_{a'}+p_{b'}=\id_{F(x)}$. Now $F$ is full, so there exists $p_a:x\to x$
  such that $F(p_a)=p_{a'}$ and similarly for $p_b$. Now $M$ is idempotent
  complete, so $p_a$ splits, i.e. we obtain $i_a:a\to x$ and $r_a:x\to a$ such
  that $r_a i_a=\id_a$ and $i_a r_a=p_a$ and similarly for $b$. Now
  $F(p_a+p_b)=p_{a'}+p_{b'}=\id_{F(x)}$. Since $F$ is faithful we get
  $p_a+p_b=\id_x$. This means that $x=a\oplus b$. Finally
  $r_{a'}F(i_a):F(a)\to a'$ and $r_{b'}F(i_b):F(b)\to b'$ are the desired
  isomorphisms.
\end{proof}

\begin{lemma}\label{abelian}
  Suppose we have a fully faithful functor $F:M\hookrightarrow N$ where $M$ is
  Cauchy complete and $N$ is $k$-linear. Suppose every short exact sequence
  splits in $N$. Then $M$ is $k$-linear and every short exact sequence splits
  in $M$.
\end{lemma}

\begin{proof}
  \noindent We start by showing that $M$ is $k$-linear (essentially, we need to check that $M$ is abelian). We now
  show that $M$ has kernels, and they are preserved by $F$. (The proof for
  cokernels is dual to this proof).

  So let $x\to y$ be a morphism in $M$. Then $F(x)\to F(y)$ has
  a kernel $k'\to F(x)$ in $N$. The short exact sequence $0\to k'\to F(x)\to c'\to 0$
  splits, where $c'$ is the cokernel of $k'\to F(x)$. So we get $F(x)=k'\oplus c'$.
  Then, by Lemma \ref{direct_sum}, we have $x=k\oplus c$ where $F(k)\simeq k'$ and
  \[
    \begin{tikzcd}
      {F(k)} & {F(x)} \\
      {k'} & {F(x)} \arrow[from=1-1, to=1-2] \arrow["\simeq"', from=1-1, to=2-1] \arrow["{=}", from=1-2, to=2-2] \arrow[from=2-1, to=2-2]
    \end{tikzcd}
  \]
  commutes. This means $F(k)\to F(x)$ is also a kernel of $F(x)\to F(y)$. But
  $F$ is fully faithful, so it reflects limits, hence $k\to x$ is a kernel of
  $x\to y$.

  Next, we show that every monomorphism is a kernel. (The proof that every
  epimorphism is a cokernel is dual to this proof). Let $a\hookrightarrow x$ be a
  monomorphism in $M$. Since $F$ preserves kernels, we know
  $F(a)\hookrightarrow F(x)$ is a monomorphism. Moreover, if $x\to c$ is the
  cokernel of $a\hookrightarrow x$, then $F(x)\to F(c)$ is the cokernel of
  $F(a)\hookrightarrow F(x)$ (because $F$ also preserves cokernels). So $0\to F(a)\to F(x)\to F(c)\to 0$ is exact, so
  $F(x)=F(a)\oplus F(c)$. Then $x=a\oplus c$ (by Lemma \ref{direct_sum}) and
  so $a\to x$ is the kernel of $x\to c$.

  This concludes the proof that $M$ is $k$-linear.

  Finally, we show that $F:M\to N$ is exact. The fact that every short exact
  sequence splits in $M$ follows easily from Lemma \ref{direct_sum}, and the
  facts that $F$ is exact and every short exact sequence splits in $N$.
\end{proof}

\begin{proposition}\label{cau_semi}
  Suppose we have a fully faithful functor $M\hookrightarrow N$,
  where $M$ is Cauchy complete and $N$ is $k$-linear finite semisimple. Then
  $M$ is a $k$-linear finite semisimple category.
\end{proposition}

\begin{proof}
  By Lemma \ref{abelian} the category $M$ also $k$-linear and every short
  exact sequence splits in $M$, which implies that every object in $M$ is
  projective and also that $F:M\to N$ exact. Since $F$ is faithful and $N$ is
  finite, all hom spaces in $M$ are finite dimensional.

  Since $F$ is exact and fully faithful, it preserves and reflects
  monomorphisms, therefore $x\in M$ is simple if and only if $F(x)\in N$ is
  simple. So in particular, given $N$ has finitely many isomorphism classes of
  simple objects, the same is true of $M$.

  If $F(x)=\bigoplus_{i=1}^n x'_i$ with $x'_i$ simple, then by induction and
  Lemma \ref{direct_sum} we have $x=\bigoplus_{i=1}^n x_i$ where
  $F(x_i)\simeq x_i'$ so $x_i$ is simple.
\end{proof}

\begin{definition} \label{definition/finite-cocompletion} ($Fin(M)$, finite cocompletion)
  A category $M$ is finitely cocomplete if it has all finite colimits. Given a
  category $M$, we denote by $Fin(M)$ its finite cocompletion, the
  smallest finitely cocomplete subcategory of $Fun(M^{op},\Vect_k)$ that
  contains all the representables. Its objects can be identified as those
  $X\in Fun(M^{op},\Vect_k)$ such that
  $Hom_{Fun(M^{op},\Vect_k)}(X,-):Fun(M^{op},\Vect_k)\to \Vect_k$ preserves filtered
  colimits. Alternatively, they are the coequalisers of pairs of morphisms
  between finite coproducts of representables. [TODO: Manuel provides better references for each claim given here.]

  There is fully
  faithful functor $M\to Fin(M)$ induced by the Yoneda embedding $M \to Fun(M^{op}, \Vect_{k})$. It is characterized by a universal
  property: for any finitely cocomplete $L$, the restriction map
  $Lin(Fin(M),L)\to Fun(M,L)$ is an equivalence. References include
  \cite[Section 5.7]{kelly/basic-concepts-enriched} and \cite[Section
  2.2.1]{lopezfranco/tensor-products}.
\end{definition}

\begin{remark}
  From our descriptions of $Cau(M)$
  (\ref{definition/cauchy-completion/abstract},
  \ref{definition/cauchy-completion/explicit}) and $Fin(M)$
  (\ref{definition/finite-cocompletion}) it is immediate that we have fully
  faithful functors $M\hookrightarrow Cau(M)\hookrightarrow Fin(M)$.
\end{remark}

\subsection{Rigidity} % TODO (Jin) has to check this subsection after Manuel finishes it.

We now clarify the role of rigidity in the construction of the balanced tensor product. We start by defining $M\otimes_C N$ when $C$ is not assumed to have duals.

\begin{definition}\label{pre-skein_no-duals}

Let $C$ be a monoidal category and let $M_C$ and $_{C}N$ be $C$-module categories. We define $M\otimes_C N$ as the category whose objects are pairs $(m,n)$ and whose morphism spaces are the spaces of alternating skeins of arbitrary (finite) length, as depicted below.

\begin{center}\includesvg{graphics/up_down_skein}\end{center}
This should of course be interpreted as a suitable direct sum of tensor products of morphism spaces in $M$, $C$ and $N$. We impose relations analogous to those in Definition \ref{pre-skein}, plus the two extra relations below (and one obvious reflection of each of those).


\begin{center}\begin{tabular}{l}
\includesvg{graphics/relation2} \\
\includesvg{graphics/relation3} \\
\includesvg{graphics/relation4}
\end{tabular}\end{center} Each of these relations may be applied locally to any finite length alternating skein. In the case of the third relation, after applying it one must apply the composition rule from Definition \ref{pre-skein} to obtain an alternating skein again.

Composition is defined by horizontally stacking the two diagrams and then applying the composition rule from Definition \ref{pre-skein} if there are parallel diagonal wires.\end{definition}

\begin{definition}(Alternative)
 
\end{definition}
Let $C$ be a monoidal category and let $M_C$ and $_{C}N$ be $C$-module categories. We define $M\otimes_C N$ as the category whose objects are pairs $(m,n)$ and whose morphism spaces are freely generated under composition by 
\begin{center}
\begin{tabular}{lllll}
\includesvg{graphics/beta_notext} &  & \includesvg{graphics/beta_inv} &  & \includesvg{graphics/phi_psi} 
\end{tabular}
\end{center}

subject to the relations

\begin{center}
\begin{tabular}{l}
\includesvg{graphics/relation5} \\ \\

\includesvg{graphics/relation6} \\ \\ 

\includesvg{graphics/relation7} \\ \\

\includesvg{graphics/relation8}
\end{tabular}
\end{center}

\begin{definition}
 
Given an object $c$ in a monoidal category $C$, a weak right dual for $c$ is a triple $(C^*,\eta,\epsilon)$, where $c^*$ is an object in $C$ and $\eta:1\to c\otimes c^*$ and $\epsilon:c^*\otimes c\to 1$ are morphisms in $c$, such that the following equation holds.

\begin{center}
\includesvg{graphics/snake_equation} 
\end{center}

A monoidal category with weak right duals is a monoidal category where every object has a weak right dual.\end{definition}

\begin{lemma}\label{up_skein}
  
Let $C$ be a monoidal category with weak right duals and let $M_C$ and $_{C}N$ be $C$-module categories. Suppose $(c^*,\eta,\epsilon)$ is a weak right dual for $c$. Then \begin{center}\includesvg{graphics/up_skein}\end{center} in $M\otimes_C N$.
\end{lemma}

\begin{proof} Both sides of the equation are inverse to \begin{center}\includesvg{down_skein}.\end{center} For the left hand side, this follows from the relations in Definition \ref{pre-skein_no-duals}. For the right hand side, it follows from the proof of Lemma \ref{beta_invertible}, where only the fact that $(c^*,\eta,\epsilon)$ is a weak right dual for $c$ is used.\end{proof}

Let us temporarily denote by $M\otimes_C^d N$ the category of Definition \ref{pre-skein}, where the diagonal wires flow downwards.

\begin{lemma}
  
Let $C$ be a monoidal category with weak right duals and let $M_C$ and $_{C}N$ be $C$-module categories. Then the two categories $M\otimes_C N$ and $M\otimes^{d}_C N$ are isomorphic.\end{lemma}
\begin{proof}

There is an obvious functor $M\otimes_C^d N\to M\otimes_C N$ which is a bijection on objects. To show that it is an isomorphism on morphism spaces, we use Lemma \ref{up_skein} to reduce every morphism in $M\otimes_C N$ to a morphism in $M\otimes^d_C N$.\end{proof}


\begin{proposition}
Let $C$ be a monoidal category, let $M_C$ and $_{C}N$ be $C$-module categories and let $L$ be a category. Then composition with
  $M\otimes N \to M\otimes_C N$ induces an equivalence of categories
  $Fun(M\otimes_C N,L)\to Fun^{C-bal}(M\otimes N,L)$.\end{proposition}
\begin{proof}
  The only difference between this and the proof of Proposition \ref{univ_bal} is that now providing an inverse to the balancing $\beta_{m,c,n}:(m\lhd c, n)\to (m,c\rhd n)$ (see Lemma \ref{beta_invertible}) does not require duals, as we can simply use the skein with a $c$ wire going up.\end{proof}
  
  \begin{remark}
   We could also define a category $M\otimes_C^u N$ where the diagonal wires go up. This category is isomorphic to the category $M\otimes_C N$ of Definition \ref{pre-skein_no-duals} when $C$ has weak left duals (defined in an analogous way to weak right duals). When $C$ has both weak left and right duals (in particular, when $C$ is rigid), then all three categories $M\otimes_C N$, $M\otimes^u_C N$ and $M\otimes_C^d N$ are isomorphic.\end{remark}

\subsection{The Non-semisimple Case} \label{section-nonsemisimple}

We explain how one can adapt the construction of $sk(M,C,N)$ to the non-semisimple case. We will refer to results in \cite{kelly/basic-concepts-enriched}. For the reader's convenience, we review all the necessary results in \ref{review_kelly}.

\begin{definition}
Suppose $C$ is a monoidal category and $M_C, _{C}N$ are finitely cocomplete $C$-module categories. Their balanced Kelly tensor product is a finitely cocomplete category $M\boxtimes^K_C N$ together with a $C$-balanced bilinear functor $M\otimes N\to M\boxtimes^K_C N$ such that precomposition defines an equivalence $$Lin(M\boxtimes^K_C N,L)\to Bilin^{C-bal}(M\otimes N, L)$$ for any finitely cocomplete category $L$.\end{definition}

Suppose $C$ is a monoidal category and $M_C, _{C}N$ are finitely cocomplete $C$-module categories. We explain how to construct a category $M\boxtimes_C^{sk}N$ so that $M\otimes N\to M\boxtimes_C^{sk}N$ presents it as the balanced Kelly tensor product of $M$ and $N$ over $C$. We follow very closely the procedure adopted in \cite{lopezfranco/tensor-products} to construct the unbalanced Kelly tensor product, starting from $M\otimes N$.

\begin{definition}

A functor $(M\otimes_C N)^{op}\to L$ is said to be left exact in each variable if the composite $M^{op}\otimes N^{op}\to (M\otimes_C N)^{op}\to L$ is left exact in each variable. In other words it sends finite colimits in $M$ and finite colimits in $N$ to finite limits in $L$. We denote by $Bilex((M\otimes_C N)^{op},\Vect_k)\subset Fun(M\otimes_C N)^{op},\Vect_k)$ the full subcategory whose objects are those functors which are left exact in each variable.
\end{definition}


\begin{definition}
We say that a functor $M\otimes_C N \to L$ is bilinear if the composite $M\otimes N\to M\otimes_C N \to L$ is bilinear (i.e. right exact in each variable). We denote by $Bilin(M\otimes_C N, L)\subset Fun(M\otimes_C N, L)$ the full subcategory whose objects are the bilinear functors. \end{definition}


The subcategory $Bilex((M\otimes_C N)^{op},\Vect_k)\subset Fun((M\otimes_C N)^{op},\Vect_k)$ is reflective (see \cite[Theorem 6.5]{kelly/basic-concepts-enriched} or Theorem \ref{reflective}) so that we have an adjunction

\[\begin{tikzcd}
	{Bilex((M\otimes_C N)^{op},\Vect_k)} & {Fun((M\otimes_C N)^{op},\Vect_k)}
	\arrow[""{name=0, anchor=center, inner sep=0}, "i"', shift right=3, hook, from=1-1, to=1-2]
	\arrow[""{name=1, anchor=center, inner sep=0}, "R"', shift right=3, from=1-2, to=1-1]
	\arrow["\dashv"{anchor=center, rotate=-90}, draw=none, from=1, to=0]
\end{tikzcd}.\] In particular, $Bilex((M\otimes_C N)^{op},\Vect_k)$ is cocomplete.

\begin{definition}\label{def_K}
We denote by $K:M\otimes_C N\to Bilex((M\otimes_C N)^{op}$ the composite \[\begin{tikzcd}
	{M\otimes_C N} & {Fun((M\otimes_C N)^{op},\Vect_k)} & {Bilex((M\otimes_C N)^{op},\Vect_k)}
	\arrow["Y", from=1-1, to=1-2]
	\arrow["R", from=1-2, to=1-3]
\end{tikzcd},\] where $Y$ is the Yoneda embedding.\end{definition}
\begin{lemma}\label{right_exact_0}

The functor $K:M\otimes_C N\to Bilex((M\otimes_C N)^{op}$ is bilinear.\end{lemma}

\begin{proof}

This follows from assertion (5.51) in \cite{kelly/basic-concepts-enriched}. But we can give the following proof. We must show that $Bilex((M\otimes_C N)^{op},\Vect_k)(RY-,\phi):(M\otimes_C N)^{op}\to\Vect_k$ is left exact in each variable, for any $\phi\in Bilex((M\otimes_C N)^{op},\Vect_k)$. This follows from the calculation $$Bilex((M\otimes_C N)^{op},\Vect_k)(RY-,\phi)\simeq Fun((M\otimes_C N)^{op},\Vect_k)(Y-,\phi)\simeq \phi$$ where the first step uses the adjunction $R\dashv i$ and the second step is the Yoneda Lemma.\end{proof}

\begin{definition}\label{sk_nonsemisimple} Let $C$ be a monoidal category and let $M_C$, $_{C}N$ be finitely cocomplete $C$-module categories. We define $M\boxtimes_C^{sk}N$ as the closure of the full image of the functor $$K:M\otimes_C N \to Bilex((M\otimes_C N)^{op},\Vect_k)$$ under finite colimits. This means $M\boxtimes_C^{sk}N$ is the smallest replete full subcategory of $Bilex((M\otimes_C N)^{op},\Vect_k)$ which contains every object of the form $K(m,n)$ and is closed under finite colimits. Thus $M\boxtimes_C^{sk}N$ is finitely cocomplete and comes equipped with a functor $Z:M\otimes_C N \to M\boxtimes_C^{sk}N$.\end{definition}

\begin{lemma}\label{right_exact}
The functor $Z:M\otimes_C N \to M\boxtimes_C^{sk}N$ is bilinear.
\end{lemma}
\begin{proof}
 This follows from Lemma \ref{right_exact_0} and the fact that the fully faithful functor $$M\boxtimes_C^{sk}N\hookrightarrow Bilex((M\otimes_C N)^{op},\Vect_k)$$ reflects colimits.\end{proof}



\begin{proposition}\label{univ_sk_nonsemisimple}
Given a finitely cocomplete category $L$, the functor $$Lin(M\boxtimes_C^{sk}N,L)\to Bilin(M\otimes_C N, L)$$ given by precomposition with $Z$ is an equivalence.\end{proposition}
\begin{proof} See \cite[Theorem 6.23]{kelly/basic-concepts-enriched} or Theorem \ref{f_theory_small_sketch}.\end{proof}

\begin{lemma}\label{univ_bilin_bal}
The functor $Bilin(M\otimes_C N,L)\to Bilin^{C-bal}(M\otimes N, L)$ is an equivalence, for any category $L$. \end{lemma}
\begin{proof}
By Lemma \ref{univ_bal} we know that $Fun(M\otimes_C N,K)\to Fun^{C-bal}(M\otimes N, L)$ is an equivalence. By definition, a functor $M\otimes_C N\to L$ is bilinear if and only if the composite $M\otimes N\to M\otimes_C N\to L$ is bilinear, so we obtain an equivalence between the two subcategories.\end{proof}

\begin{theorem}\label{main_nonsemisimple}
 Let $C$ be a monoidal category and let $M_C$, $_{C}N$ be finitely cocomplete module categories. Then the $C$-balanced functor $M\otimes N\to M\boxtimes_C^{sk}N$ presents $M\boxtimes_C^{sk}N$ as the balanced Kelly tensor product of $M$ and $N$ over $C$.\end{theorem}
 \begin{proof}

This follows from Proposition \ref{univ_sk_nonsemisimple} and Lemma \ref{univ_bilin_bal}.\end{proof}

\begin{corollary}

Let $C$ be a finite tensor category, $M_C$, $_{C}N$ finite $k$-linear $C$-module categories. Then $M\boxtimes_C^{sk}N$ is $k$-linear and the $C$-balanced functor $M\otimes N\to M\boxtimes_C^{sk}N$ presents $M\boxtimes_C^{sk}N$ as the balanced Deligne tensor product of $M$ and $N$ over $C$.\end{corollary}
\begin{proof}

This follows from Theorem \ref{main_nonsemisimple} and Lemma \ref{univ_box}.\end{proof}

The following Lemma makes the connection between the construction of $M\boxtimes_C^{sk}N$ in this section and our previous constructions in the semisimple case.

% \begin{lemma}
% Suppose $Y(m,n)\in Bilex((M\otimes_C N)^{op},\Vect_k)$ for all $(m,n)\in M\otimes_C N$. Denote by $\tilde{Y}:M\otimes_C N\hookrightarrow Bilex((M\otimes_C N)^{op},\Vect_k)$ the resulting functor. Then we have a natural isomorphism $\tilde{Y}\simeq K$. \end{lemma}
% \begin{proof}
%  Note that we have $i\tilde{Y}=Y$. Since $i$ is fully faithful, the counit $Ri\Rightarrow \id_{Bilex((M\otimes_C N)^{op}),\Vect_k)}$ of the adjunction $R\dashv i$ is an isomorphism. Finally we have $K=Ry=Ri\tilde{Y}\simeq\tilde{Y}.$\end{proof}
%  
 \begin{lemma}\label{fin_boxsk}
Let $C$ be a monoidal category, and let $M_C$ and $_{C}N$ be $k$-linear semisimple $C$-module categories. Then $M\boxtimes_C^{sk}N\simeq Fin(M\otimes_C N)$.
 \end{lemma}
\begin{proof}
 In this case we have $Bilex((M\otimes_C N)^{op},\Vect_k)=Fun((M\otimes_C N)^{op},\Vect_k)$. So the functor $K$ in Definition \ref{sk_nonsemisimple} is simply the Yoneda embedding $M\otimes_C N\hookrightarrow Fun((M\otimes_C N)^{op},\Vect_k)$ and so $M\boxtimes_C^{sk} N$ is simply the finite cocompletion of $M\otimes_C N$.\end{proof}

\begin{corollary}\label{fin_kelly}
Let $C$ be a monoidal category, and let $M_C$ and $_{C}N$ be $k$-linear semisimple $C$-module categories. Then $M\otimes_CN\to Fin(M\otimes_C N)$ presents $Fin(M\otimes_C N)$ as the balanced Kelly tensor product of $M$ and $N$ over $C$. 
\end{corollary}

\begin{remark}
In Lemma \ref{fin_boxsk} and Corollary \label{fin_kelly}, semisimplicity of $M$ and $N$ can be replaced by the weaker condition that every short exact sequence splits in $M$ and $N$. \end{remark}


% \begin{remark}
% When $C$ is a monoidal category and $M_C,_{C}N$ are $k$-linear semisimple $C$-module categories, we have $$M\boxtimes^K_{C}N\simeq M\boxtimes_C^{sk}N\simeq Fin(M\otimes_C N).$$
% 
% \noindent When, additionally, $Fin(M\otimes_C N)$ is semisimple, we have $$M\boxtimes^K_{C}N\simeq M\boxtimes_C^{sk}N\simeq Fin(M\otimes_C N)\simeq Cau(M\otimes_C N)=sk(M,C,N).$$
% 
% \noindent When $C$ is a finite tensor category and $M,N$ are $k$-linear finite semisimple $C$-module categories, we have $$M\boxtimes^{sk}_C N\simeq Fin(M\otimes_C N)\simeq M\boxtimes_C N.$$
% 
% \noindent When $C$ is a finite tensor category and $M,N, M\boxtimes_C N$ are all $k$-linear finite semisimple, we have $$M\boxtimes_C^{sk}N\simeq Fin(M\otimes_C N)\simeq Cau(M\otimes_C N)=sk(M,C,N)\simeq M\boxtimes_C N.$$ See Remark \ref{semisimple_douglas/dualizable-tensor-categories} for conditions on $M,N$ and $C$ under which $M\boxtimes_C N$ is finite semisimple.
% \end{remark}


\subsubsection{Review of necessary results from \cite{kelly/basic-concepts-enriched}}\label{review_kelly}

Here we review the concepts from \cite{kelly/basic-concepts-enriched} that are needed in \ref{section-nonsemisimple}.

First we note that the results in \cite{kelly/basic-concepts-enriched} can be applied to categories enriched over very general kinds of symmetric monoidal categories $V$. To be precise, the results we need apply when $V$ is a locally bounded, closed symmetric monoidal category. We won't need to define these terms, as we won't prove the results from \cite{kelly/basic-concepts-enriched}. All that needs to be said is that $\Vect_k$ satisfies these properties, and we will always take $V=\Vect_k$.

\begin{definition}

Consider a functor $F:I\to A$. A cone over $F$ is an object $a\in A$ together with a natural transformation $a\Rightarrow F$ (where $a$ denotes the constant functor $a:I\to A$). A cocone under $F$ is an object $b\in A$ together with a natural transformation $F\Rightarrow b$.\end{definition}

\begin{definition}

Let $A$ be a category. A cone in $A$ consists of a category $I$, a functor $F:I\to A$ and a cone over $F$. A cocone in $A$ consists of a category $I$, a functor $F:I\to A$ and a cocone under $F$.\end{definition}

We often denote a cocone in $A$ simply by writing $a_i\to a$ which denotes $a_i=F(i)$ and the component $a_i\to a$ of the natural transformation corresponding to $i\in I$.


\begin{definition}
A small sketch is a pair $(A^{op},\Phi)$ where $A$ is a small category and $\Phi$ is a small set of cocones in $A$. We often refer to a cocone in $\Phi$ as a $\Phi$-cocone in $A$.\end{definition}

\begin{remark}Note that in \cite{kelly/basic-concepts-enriched} $\Phi$ is allowed to be a set of cylinders. Cocones are particular kinds of cylinders and we won't need the extra generality.\end{remark}

\begin{definition}
Given a small sketch $(A^{op},\Phi)$ and a category $B$, a $\Phi$-comodel in $B$ is a functor $A\to B$ sending the $\Phi$-cocones in $A$ to colimit cocones in $B$. We denote by $\Phi-Com(A,B)\subset Fun(A,B)$ the full subcategory whose objects are the $\Phi$-comodels. A $\Phi$-algebra is a functor $A^{op}\to \Vect_k$ sending all $\Phi$-cocones in $A$ (which become cones in $A^{op}$) to limit cones in $\Vect_k$. We denote by $\Phi-Alg\subset Fun(A^{op},\Vect_k)$ the full subcategory whose objects are the $\Phi-algebras$.
\end{definition}


\begin{definition}

Given a small sketch $(A^{op},\Phi)$, we define $\Theta_{\Phi}$ to be the set of all morphisms in $Fun(A^{op},\Vect_k)$ of the form $colim_i Y(a_i)\to Y(a)$ where $a_i\to a$ is a $\Phi$-cocone in $A$ and $Y$ is the Yoneda embedding.\end{definition}

\begin{definition}

Given a category $P$, we say that an object $p\in P$ is orthogonal to a morphism $\theta:m\to n$ in $P$ if $\theta^*:Hom_P(n,p)\to Hom_P(m,p)$ is an isomorphism.\end{definition}

\begin{definition}
A full subcategory $C\subset P$ is called reflective if the fully faithful inclusion functor $C\hookrightarrow P$ has a left adjoint $R:P\to C$. The left adjoint is called the reflector.\end{definition}

\begin{theorem}\cite[Theorem 6.5]{kelly/basic-concepts-enriched}\label{reflective}

\noindent Let $A$ be a small category and let $\Theta$ be a set of morphisms in $Fun(A^{op},\Vect_k)$. Let $C_{\Theta}\subset Fun(A^{op},\Vect_k)$ be the full subcategory whose objects are those orthogonal to every $\theta\in\Theta$. Then $C_{\Theta}$ is a reflective subcategory.\end{theorem}

\begin{remark}
 The category $C_{\Theta}$ is denoted $\Theta$-Alg in \cite{kelly/basic-concepts-enriched}.\end{remark}


\begin{lemma}\cite[Theorem 6.11]{kelly/basic-concepts-enriched}
 Let $(A^{op},\Phi)$ be a small sketch. Then the reflective subcategory $C_{\Theta_{\Phi}}\subset Fun(A^{op},\Vect_k)$ is the category $\Phi$-Alg.\end{lemma}

 \begin{proof} An object $\phi \in Fun(A^{op},\Vect_k)$ is orthogonal to a morphism $colim_i Y(a_i)\to Y(a)$ in $\Theta_{\Phi}$ if $$Fun(A^{op},\Vect_k)(Y(a),\phi)\to Fun(A^{op},\Vect_k)(colim_i Y(a_i),\phi)$$ is an isomorphism. That is to say $\phi(a)\to lim_i \phi(a_i)$ is an isomorphism, i.e. $\phi(a)\to \phi(a_i)$ is a limit cone. So the objects of $Fun(A^{op},\Vect_k)$ which are orthogonal to every $\theta\in \Theta_{\Phi}$ are exactly the $\Phi$-algebras. \end{proof}

\begin{definition}
Given a small sketch $(A^{op},\Phi)$ we denote by $C_{\Phi}$ the category $\Phi-Alg$.
\end{definition}


So we obtain an adjunction \[\begin{tikzcd}
	{C_{\Phi}} & {Fun(A^{op},\Vect_k)}
	\arrow[""{name=0, anchor=center, inner sep=0}, "i_{\Phi}"', shift right=3, hook, from=1-1, to=1-2]
	\arrow[""{name=1, anchor=center, inner sep=0}, "R_{\Phi}"', shift right=3, from=1-2, to=1-1]
	\arrow["\dashv"{anchor=center, rotate=-90}, draw=none, from=1, to=0]
\end{tikzcd}.\]

\begin{definition} Given a small sketch $(A^{op},\Phi)$, and denoting by $Y:A\to Fun(A^{op},\Vect_k)$ the Yoneda embedding, we define $K_{\Phi}:A\to C_{\Phi}$ as the composite functor \[\begin{tikzcd}
	A & {Fun(A^{op},\Vect_k)} & {C_{\Phi}}
	\arrow["Y", hook, from=1-1, to=1-2]
	\arrow["R_{\Phi}", from=1-2, to=1-3]
\end{tikzcd}.\]\end{definition}

\begin{lemma}
Given a small sketch $(A^{op},\Phi)$, the functor $K_{\Phi}:A\to C_{\Phi}$ is a $\Phi$-comodel, i.e. it sends $\Phi$-cocones in $A$ to colimit cocones in $C_{\Phi}$.\end{lemma}
\begin{proof}This is (a special case of) statement (5.51) in \cite{kelly/basic-concepts-enriched}. Since the proof is short, we can record it here. We must show that, given any object $\phi\in C_{\Phi}=\Phi-Alg$, the functor $C_{\Phi}(R_{\Phi}Y-,\phi):A^{op}\to\Vect_k$ is a $\Phi$-algebra, i.e. sends $\Phi$-cocones in $A$ to limit cones in $\Vect_k$. But $C_{\Phi}(R_{\Phi}Y-,\phi)\simeq Fun(A^{op},\Vect_k)(Y-,\phi)\simeq\phi$.\end{proof}


\begin{remark}

Since $C_{\Phi}\subset Fun(A^{op},\Vect_k)$ is a reflective subcategory and $Fun(A^{op},\Vect_k)$ is cocomplete, $C_{\Phi}$ is also cocomplete.\end{remark}

\begin{definition}
A diagram type is just a small category. Given a diagram type $I$, a diagram of type $I$ in $D$ is a functor $I\to D$. Let $\mathcal{F}$ be a set of diagram types. An $\mathcal{F}$-colimit in a category $D$ is a colimit of a diagram of type $I$ where $I\in \mathcal{F}$. A functor $D\to B$ is $\mathcal{F}$-cocontinuous if it sends $\mathcal{F}$-colimits in $D$ to $\mathcal{F}$-colimits in $B$. We denote by $\mathcal{F}-Cocts(D,B)\subset Fun(D,B)$ the full subcategory whose objects are the $\mathcal{F}$-cocontinuous functors.\end{definition}

\begin{remark}
 In \cite{kelly/basic-concepts-enriched} a more general notion of indexing type is used. Here we only need the more restricted notion of diagram type defined above.\end{remark}

\begin{definition}

A subcategory $D\subset C$ is replete if given $d\in D$ and an isomorphism $f:d\to c$ in $C$, then $c$ and $f$ are also in $D$.\end{definition}


\begin{definition}
Let $\mathcal{F}$ be a set of diagram types and suppose $C$ is $\mathcal{F}$-cocomplete. Let $K\subset C$ be a full subcategory. The closure of $K$ under $\mathcal{F}$-colimits in $C$ is the smallest replete full subcategory of $C$ containing $K$ and closed under $\mathcal{F}$-colimits. \end{definition}

\begin{definition}
 The type of a cocone $a\Rightarrow F$ is the type of the diagram $F$.\end{definition}

\begin{definition}
Let $\mathcal{F}$ be a small set of diagram types. A small $\mathcal{F}$-sketch is a small sketch $(A^{op},\Phi)$ where the type of every $\Phi$-cocone is in $\mathcal{F}$.\end{definition}


\begin{definition}

Let $\mathcal{F}$ be a small set of diagram types and let $(A^{op},\Phi)$ be a small $\mathcal{F}$-sketch. Define $D_{\Phi,\mathcal{F}}$ as the closure of the full image of $K_{\Phi}$ in $C_{\Phi}$ under $\mathcal{F}$-colimits. Notice that $K_{\Phi}:A\to C_{\Phi}$ factors through $D_{\Phi,\mathcal{F}}\hookrightarrow C_{\Phi}$, so we obtain a functor $Z_{\Phi,\mathcal{F}}:A\to D_{\Phi,\mathcal{F}}$.\end{definition}

\begin{lemma}
Let $\mathcal{F}$ be a small set of diagram types and let $(A^{op},\Phi)$ be a small $\mathcal{F}$-sketch. Then the functor $Z_{\Phi,\mathcal{F}}:A\to D_{\Phi}$ is a $\Phi$-comodel, i.e. it sends $\Phi$-cocones in $A$ to colimit cocones in $D_{\Phi,\mathcal{F}}$.
\end{lemma}
\begin{proof}
This follows from the fact that $K_{\Phi}$ is a $\Phi$-comodel and the fully faithful inclusion $D_{\Phi,\mathcal{F}}\hookrightarrow C_{\Phi}$ reflects colimits.\end{proof}

\begin{lemma}
Let $\mathcal{F}$ be a small set of diagram types and let $(A^{op},\Phi)$ be a small $\mathcal{F}$-sketch. Given an $\mathcal{F}$-cocontinuous functor $H:D_{\Phi,\mathcal{F}}\to B$, the composite $\begin{tikzcd}
	A & D_{\Phi,\mathcal{F}} & B
	\arrow["Z_{\Phi,\mathcal{F}}", from=1-1, to=1-2]
	\arrow["H", from=1-2, to=1-3]
\end{tikzcd}$ is a $\Phi$-comodel.\end{lemma}
 \begin{proof}Recall that $Z_{\Phi,\mathcal{F}}$ is a $\Phi$-comodel, i.e. it sends $\Phi$-cocones in $A$ to colimit cocones in $D_{\Phi,\mathcal{F}}$. Since $\mathcal{F}$ contains the type of every $\Phi$-cocone, $Z_{\Phi,\mathcal{F}}$ sends $\Phi$-cocones in $A$ to $\mathcal{F}$-colimit cocones in $D_{\Phi,\mathcal{F}}$. But $H$ sends $\mathcal{F}$-colimits in $D_{\Phi,\mathcal{F}}$ to $\mathcal{F}$-colimits in $B$, so finally the composite sends $\Phi$-cocones in $A$ to colimit cocones in $B$.\end{proof}

This means that precomposition with $Z_{\Phi,\mathcal{F}}$ defines a functor $Z_{\Phi,\mathcal{F}}^*:\mathcal{F}-Cocts(D_{\Phi,\mathcal{F}},B)\to\Phi-Com(A,B)$ for any category $B$.

\begin{theorem}\cite[Theorem 6.23]{kelly/basic-concepts-enriched}\label{f_theory_small_sketch}
Let $\mathcal{F}$ be a small set of diagram types and let $(A^{op},\Phi)$ be a small $\mathcal{F}$-sketch. Let $B$ be an $\mathcal{F}$-cocomplete category. Then $$Z_{\Phi,\mathcal{F}}^*:\mathcal{F}-Cocts(D_{\Phi,\mathcal{F}},B)\to\Phi-Com(A,B)$$ is an equivalence.
\end{theorem}

In section \ref{section-nonsemisimple}, we use the procedure described here to define $M\boxtimes_C^{sk}N$. We have $A=M\otimes_C N$, which is a small category whenever $M,N,C$ are small. We take $\mathcal{F}$ to be a set of finite categories containing exactly one representative of each isomorphism class (it is a small set). So $\mathcal{F}$-colimits are just finite colimits. We take $\Phi$ to be the set of all cocones of the kinds $m_i\otimes n\to m\otimes n$ and $m\otimes n_i\to m\otimes n$ where $m_i\to m$ is any finite colimit cocone in $M$ (with type in $\mathcal{F}$) and $n_i\to n$ is any finite colimit cocone in $N$ (with type in $\mathcal{F}$). The fact that we require the types to be in the small set $\mathcal{F}$ and the fact that the categories $M$, $N$ are small together imply that $\Phi$ is a small set.  Then one obtains $C_{\Phi}=\Phi-Alg=Bilex((M\otimes_C N)^{op},\Vect_k)$ and $K_{\Phi}:M\otimes_C N\to Bilex((M\otimes_C N)^{op},\Vect_k)$ is the functor $K$ of Definition \ref{def_K}. Finally, the category $D_{\Phi,\mathcal{F}}$ obtained as the closure of the full image of $K_{\Phi}$ in $C_{\Phi}$ under finite colimits is exactly $M\boxtimes_C^{sk}N$ (Definition \ref{sk_nonsemisimple}). Now $\mathcal{F}$-cocomplete is synonymous with finitely cocomplete and $\mathcal{F}$-cocontinuous means right exact. So the $\mathcal{F}$-cocontinuous functors $M\boxtimes_C^{sk}N\to L$ are exactly the linear functors. Moreover, $\Phi$-comodels $M\otimes_C N\to L$ are exactly the bilinear functors. So we obtain Proposition \ref{univ_sk_nonsemisimple}.

% TODO (Jin) Remove this whole section?
% TODO (Jin) Note that currently some content still refers to content in tmp.3.
\include{tmp.3}

\subsection{Misc. Results}
\noindent This subsection gathers results, proofs, and arguments that would
disrupt the flow of the main text. The content is unstructured, so readers
should approach it as a collection of standalone items.

\noindent From the main theorem, we must have $sk(M,C,C) \simeq M$. To quickly
convince the reader that the main theorem is true before it is proven, we
provide another direct proof for this equivalence:

\begin{proposition} \label{proposition/degenerated-main-theorem}

  \noindent Let $C$ be a tensor category. Let $M_{C}$ be a right $C$-module
  category. \quad Then we have an equivalence of categories
  $sk(M,C,C) \simeq M$.
\end{proposition}

\begin{proof}
  We provide two proofs. The first proof is to use the main theorem
  \ref{theorem/main-theorem}, and the known fact that
  $M \boxtimes_{C} C \simeq M$. The second proof is direct, without using the
  main theorem:

  Construct the functor
  $M \xrightarrow{1_{M} \times 1} M \times C \xrightarrow{\boxtimes_{C}} sk(M,C,C)$,
  where $\boxtimes_{C}$ is the canonical map (\ref{definition/canonical-map}).
  We contend that this is an equivalence of categories. It is straightforward
  to see that it is indeed fully faithful, so it suffices to show that it is
  essentially surjective. A typical object in the codomain $sk(M,C,C)$ is some
  idempotent skein $\II{}{}{m}{c}{\phi}{\psi}{d}$ (without loss of generality,
  assume $m$ to be simple). We contend that this object is isomorphic to
  $\II{}{}{m \lhd c}{1}{\mu_{\phi, \psi}}{1}{1}$, where
  \[
    \mu_{\phi,\psi} :=
    m \lhd c
    \xrightarrow{\phi \lhd c}
    (m \lhd d) \lhd c
    \xrightarrow[\sim]{\alpha}
    m \lhd (d \otimes c)
    \xrightarrow{m \lhd \psi}
    m \lhd c.
  \]
  Indeed, the isomorphism is provided by the following two morphisms
  \begin{align*}
    \II{}{}{m \lhd c}{1}{\mu_{\phi, \psi}}{1}{1}
    \xleftarrow{
    \II{}{}{m \lhd c}{1}{\mu_{\phi, \psi}}{1}{1}
    \, \circ \,
    \II{mc}{1}{m}{c}{u}{n}{c^{\star}}
    \, \circ \,
    \II{}{}{m}{c}{\phi}{\psi}{\overline{c}}}
    \II{}{}{m}{c}{\phi}{\psi}{\overline{c}}
    \\
    \II{}{}{m}{c}{\phi}{\psi}{\overline{c}}
    \xleftarrow{
    \II{}{}{m}{c}{\phi}{\psi}{\overline{c}}
    \, \circ \,
    \II{m}{c}{mc}{1}{1}{1}{c}
    \, \circ \,
    \II{}{}{m \lhd c}{1}{\mu_{\phi, \psi}}{1}{1}
    }
    \II{}{}{m \lhd c}{1}{\mu_{\phi, \psi}}{1}{1},
  \end{align*}
  where $c^{\star}$ denotes the right dual of $c$, $n$ denotes the counit, and
  $u$ denotes the unit for $c$. The two given morphisms may seem unnecessarily
  long, but they have to be so by the definition of of Karoubi completion (in
  which objects must be ``absorbed'' into morphism). The following pictures
  show that they compose to the identities.

  \begin{center}
    \includesvg[width=18cm]{drawing-4}
  \end{center}
\end{proof}

\noindent For computation purpose (cf. one of the applications in the introduction), one
may find the following basis theorem useful.

\begin{proposition} (Basis Theorem) \label{proposition/basis-theorem}
  \noindent Let $C$ be a finite, semisimple tensor category, and
  $M_{C}, _{C}N$ be finite, semisimple module categories over $C$. \quad Thus
  the vector spaces $Hom_{M}(m, m' \lhd c), Hom_{N}(c \rhd n, n')$ have finite bases
  $\beta(m, m' \lhd c), \beta(c \rhd n, n')$ respectively. \quad Then the hom space
  $Hom_{p.sk(M,C,N)}(m \boxtimes n, m' \boxtimes n')$ has a linear basis
  \[
    \bigsqcup_{c \in Irr(C)} \beta(m, m' \lhd c) \times \beta(c \rhd n, n').
  \]
\end{proposition}
\begin{proof}
  This follows immediately from the reductions given in \ref{remark/hom-space-reduction}.
\end{proof}

\noindent [TODO: (Manuel) Updates the bibliography.]
